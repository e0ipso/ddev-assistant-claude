ARG BASE_IMAGE
FROM $BASE_IMAGE

# Install Claude Code globally.
# The install script places the binary (or a symlink to it) at ~/.local/bin/claude.
# Using cp -L dereferences any symlinks before copying, which prevents a broken
# symlink at the destination when the installer uses relative symlinks internally.
RUN curl -fsSL https://claude.ai/install.sh | bash && \
    cp -L /root/.local/bin/claude /usr/local/bin/claude && \
    chmod 755 /usr/local/bin/claude
